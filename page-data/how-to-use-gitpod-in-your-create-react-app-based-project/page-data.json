{"componentChunkName":"component---src-templates-blog-post-js","path":"/how-to-use-gitpod-in-your-create-react-app-based-project/","result":{"data":{"site":{"siteMetadata":{"title":"TechBlog"}},"markdownRemark":{"id":"39e0cf06-26d0-54f5-bddd-397580a6d397","excerpt":"Japanese Version (translated by Ryuichi Tanabe): https://qiita.com/baby-degu/items/bacf20f657625ae8747b Gitpod is a great online IDE and here is how you can useâ€¦","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/05bd532f13413b6fdf4cb6a8dc95a58a/6af66/banner.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.32911392405063%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAABGElEQVQoz2P4Dwb/UBEm+Pfv/59/6FIM/0kE/zA1P/n19fqPj9d/fLr24+PL39/Biv4BAVzd5Xe/1j/4+uzbH3Sbf/37u//zy3UfntS8uLzyw6N7P78ABf/++/fnD1TppnsfKk+/TzvyPvPwq8PPvoJlkTQf/PJq0bv7Zc8uznl77wFY873796fPmAHUD1Q39+JTnfkXOGZcyz74dN7VN0DZ32DdUM2bPz3d/PHppDe3gPbf/vEZKPjp8+fr169DXD7r/FPPFeetl19uP/Ny7Z33QJE//2Ca//7/d/X7x0vfPwA9DCS//v2NFjyvvv5afOVFy4mna+58+PHnH1GhjRxgQHe++f77P9aoIhDJMPG//yiLZ6ppBgC3Q3WW0Y/yxwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"banner\"\n        title=\"banner\"\n        src=\"/static/05bd532f13413b6fdf4cb6a8dc95a58a/f058b/banner.png\"\n        srcset=\"/static/05bd532f13413b6fdf4cb6a8dc95a58a/c26ae/banner.png 158w,\n/static/05bd532f13413b6fdf4cb6a8dc95a58a/6bdcf/banner.png 315w,\n/static/05bd532f13413b6fdf4cb6a8dc95a58a/f058b/banner.png 630w,\n/static/05bd532f13413b6fdf4cb6a8dc95a58a/6af66/banner.png 640w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Japanese Version (translated by <a href=\"https://medium.com/u/9724aaf6be6b?source=post_page-----dd4d0b33ce77--------------------------------\">Ryuichi Tanabe</a>): <a href=\"https://qiita.com/baby-degu/items/bacf20f657625ae8747b\">https://qiita.com/baby-degu/items/bacf20f657625ae8747b</a></p>\n<p>Gitpod is a great online IDE and here is how you can use in your create-react-app based project.</p>\n<h2>Why Gitpod?</h2>\n<p>Sometimes we just donâ€™t want to spend time to prepare the development environment and start coding as soon as possible. Gitpod is a Github-integrated and 100 hours per month free use online IDE, it provides flexibility to customize your work space with <code class=\"language-text\">.gitpod.yml</code>.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f47d3f8c43c6cee79fd1ace7911abdde/d8104/htop.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46.835443037974684%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsSAAALEgHS3X78AAABkElEQVQoz2WLyW7bMABE9Q2F5YoUSVEUJVJctXCxlDhBgwC9FGhjpwn6/z9S55pg3mFmgFcIbciIOUMjIqzr254RWQ+0FrhlXDSCk75WNewpa3vRDKwZalmjvu1o2xWNokQfWV8KBnoB+VjRse7YceCQjRQsPUntMDM6EtrDRlTNUHJasg5QBgr0a26vGV0ieInwJeJLhn9+NpcTvZ742979u2ved/i+obeMXxO6RnxN6DWjvwn/DoWewunhSdqZzQnGTe9nOy9hewj3Z5UXlRax+n5yMk5jXobZyzCLMMt1HhZfOGv3u11L0VlT3kaK3pqcso8a+m9oPiBXIl1if0DL4aNMB+xLbEvsysJau+27kpKZm+xMTM6YFLONFk1HsgLiITGQTIAsFTHgo3hAHLz9Bec8pqTk2GjN11UppW9yyjZY5I7E1ZgjjMktXymMUvu2GSmp1iIEM47O6D1vU7LIHxr7nVBAACTwC3VdmG1bn5+HEJqU2fksUpI5zz+e1OMJbV191lXylZ+q6TPAuf/VJFaWVfD2FQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"htop\"\n        title=\"htop\"\n        src=\"/static/f47d3f8c43c6cee79fd1ace7911abdde/f058b/htop.png\"\n        srcset=\"/static/f47d3f8c43c6cee79fd1ace7911abdde/c26ae/htop.png 158w,\n/static/f47d3f8c43c6cee79fd1ace7911abdde/6bdcf/htop.png 315w,\n/static/f47d3f8c43c6cee79fd1ace7911abdde/f058b/htop.png 630w,\n/static/f47d3f8c43c6cee79fd1ace7911abdde/40601/htop.png 945w,\n/static/f47d3f8c43c6cee79fd1ace7911abdde/78612/htop.png 1260w,\n/static/f47d3f8c43c6cee79fd1ace7911abdde/d8104/htop.png 1365w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>In this story, we will talk about how to leverage Gitpod when you have a project based on create-react-app (or any react project).</p>\n<h2>Basic Configuration</h2>\n<p>In the basic configuration, we want to achieve following items:</p>\n<ol>\n<li><code class=\"language-text\">npm install</code> when we create the work space</li>\n<li><code class=\"language-text\">npm start</code> every time we start the work space</li>\n<li>See preview every time we update the code</li>\n</ol>\n<p>To achieve all the features, you just need to add a <code class=\"language-text\">.gitpod.yml</code> with following content:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">tasks</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">init</span><span class=\"token punctuation\">:</span> npm install\n    <span class=\"token key atrule\">command</span><span class=\"token punctuation\">:</span> npm start\n\n<span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span> <span class=\"token number\">3000</span>\n    <span class=\"token key atrule\">onOpen</span><span class=\"token punctuation\">:</span> open<span class=\"token punctuation\">-</span>preview</code></pre></div>\n<p>It is pretty self-explained and you can use it most of the projects easily.</p>\n<blockquote>\n<p>More options in <a href=\"https://www.gitpod.io/docs/44_config_start_tasks/\">official docs</a></p>\n</blockquote>\n<h2>Advanced Configuration</h2>\n<p>An advanced scenario is to use puppeteer for end-to-end testing in your create-react-app, by default some dependencies used by puppeteer is not installed in Gitpod default work space image (gitpod/workspace-full). So we need to extend the Docker image to make it work.</p>\n<p>Add <code class=\"language-text\">.gitpod.Dockerfile</code> in your repository:</p>\n<div class=\"gatsby-highlight\" data-language=\"dockerfile\"><pre class=\"language-dockerfile\"><code class=\"language-dockerfile\"><span class=\"token keyword\">FROM</span> gitpod/workspace<span class=\"token punctuation\">-</span>full\n<span class=\"token keyword\">RUN</span> sudo apt<span class=\"token punctuation\">-</span>get update &amp;&amp; sudo apt<span class=\"token punctuation\">-</span>get install <span class=\"token punctuation\">-</span>y libgtk<span class=\"token punctuation\">-</span>3<span class=\"token punctuation\">-</span>0 libx11<span class=\"token punctuation\">-</span>xcb1 libnss3 libxss1 libasound2</code></pre></div>\n<p>And update <code class=\"language-text\">.gitpod.yml</code> to use our <code class=\"language-text\">.gitpod.Dockerfile</code></p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">file</span><span class=\"token punctuation\">:</span> .gitpod.Dockerfile\n\n<span class=\"token key atrule\">tasks</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">init</span><span class=\"token punctuation\">:</span> npm install\n    <span class=\"token key atrule\">command</span><span class=\"token punctuation\">:</span> npm start\n\n<span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span> <span class=\"token number\">3000</span>\n    <span class=\"token key atrule\">onOpen</span><span class=\"token punctuation\">:</span> open<span class=\"token punctuation\">-</span>preview</code></pre></div>\n<p>Also you need to use <code class=\"language-text\">--no-sandbox</code> in jest-puppeteer, the full setup can be found here:</p>\n<p>Repository: <a href=\"https://github.com/jeromewu/create-react-app-gitpod\">https://github.com/jeromewu/create-react-app-gitpod</a></p>\n<p>Gitpod: <a href=\"https://gitpod.io/#https://github.com/jeromewu/create-react-app-gitpod\">https://gitpod.io/#https://github.com/jeromewu/create-react-app-gitpod</a></p>\n<p>With full configuration, now you can have a working environment like below:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/70d4c80b16b17a579c031cfa78d51855/d8104/gitpod.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 49.36708860759494%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsSAAALEgHS3X78AAABpUlEQVQoz1WQyY7cIBRF/RfpLpdnzIwBA7axqSFTRUnUpUSKlFVv8/+fkFdVnUWujhCbw328LF2+HdPhdDpvKX26fPx8+bKmwxS3ed2WNU1LdN47B4ePMYYwOR8AO7rD4ZhtMXo/9T3uEKKSUqHIHUQFYZwyhjHuWkhHmOyorqhpqCl76cOSwXvzNAshEUatLTkXUqi2baqyBB6pqrKqa8wtVYFKz6Tv+TjFY3Y+Hs9pDWGGkjFYJgn1iBLSNE1R7CHFPWVRgkykJ8IBWHoxuMzacbQOCgklLo5MaaaHBuEa4a7H8MSbX1aYGuzW/evv6ucVyyBBHrTuOgR/Rgjl+/zWUdwmhVkhcCveqitMNArb05/X4tePXribrLUG8y73+/+S5/9mfthMBTuf9PbexJPxSZmQaWN6TB5gQhHGjAvKOOOcEAJLhk6gblr4Jx1m7BNxK1GTBNko2XcdANWDElYrawatBAddiQa2vnsu811V7AnTBBbONGUGlieVzUT62roPD2pzyNWaq22ntie5vpPrMyDiDbnV8/dmeQHa5QWtV56ufwFf0GUWlZrfZAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"gitpod\"\n        title=\"gitpod\"\n        src=\"/static/70d4c80b16b17a579c031cfa78d51855/f058b/gitpod.png\"\n        srcset=\"/static/70d4c80b16b17a579c031cfa78d51855/c26ae/gitpod.png 158w,\n/static/70d4c80b16b17a579c031cfa78d51855/6bdcf/gitpod.png 315w,\n/static/70d4c80b16b17a579c031cfa78d51855/f058b/gitpod.png 630w,\n/static/70d4c80b16b17a579c031cfa78d51855/40601/gitpod.png 945w,\n/static/70d4c80b16b17a579c031cfa78d51855/78612/gitpod.png 1260w,\n/static/70d4c80b16b17a579c031cfa78d51855/d8104/gitpod.png 1365w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>One more thing</h2>\n<p>If you are a VIM user like me, here is a small trick (maybe not the best) to use your VIM configuration in Gitpod with least effort.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">file</span><span class=\"token punctuation\">:</span> .gitpod.Dockerfile\n\n<span class=\"token key atrule\">tasks</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">init</span><span class=\"token punctuation\">:</span> wget https<span class=\"token punctuation\">:</span>//github.com/jeromewu/docker<span class=\"token punctuation\">-</span>workspace/raw/master/vim.zip <span class=\"token punctuation\">-</span>O /tmp/vim.zip <span class=\"token important\">&amp;></span> /dev/null <span class=\"token important\">&amp;&amp;</span> unzip /tmp/vim.zip <span class=\"token punctuation\">-</span>d /home/gitpod <span class=\"token important\">&amp;></span> /dev/null\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">init</span><span class=\"token punctuation\">:</span> yarn install\n    <span class=\"token key atrule\">command</span><span class=\"token punctuation\">:</span> yarn start\n\n<span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">port</span><span class=\"token punctuation\">:</span> <span class=\"token number\">3000</span>\n    <span class=\"token key atrule\">onOpen</span><span class=\"token punctuation\">:</span> open<span class=\"token punctuation\">-</span>preview</code></pre></div>\n<p>The concept here is to zip an existing VIM configuration, download and unzip to container, it saves lots of time to install but may not be a good option if you need to update your VIM configuration very often.</p>\n<p>In a word, using Gitpod for your Github project offers you a powerful environment to develop your project anytime and anywhere with ease. Hope you find this story useful and happy coding. ðŸ˜ƒ</p>","frontmatter":{"title":"How to use Gitpod in your create-react-app based project","date":"November 19, 2019","description":"Use CRA and Gitpod together"}}},"pageContext":{"slug":"/how-to-use-gitpod-in-your-create-react-app-based-project/","previous":{"fields":{"slug":"/speedup-ffmpeg-without-compiling-from-source-code/"},"frontmatter":{"title":"Speedup FFmpeg without compiling from source code"}},"next":{"fields":{"slug":"/how-to-speed-up-node-js-modules-installation/"},"frontmatter":{"title":"How to speed up Node.js modules installation in CI/CD pipeline as of 2020"}}}},"staticQueryHashes":["2841359383","916993862"]}